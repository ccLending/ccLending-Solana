# ccLending-Solana

A cross-chain mortgage lending protocol between Solana and Ethereum.

ccLending is a decentralized cross-chain mortgage lending protocol. Borrowers can mortgage ETH/LSD tokens on Ethereum/Arbitrum/Optimism, and then borrow SOL token on Solana, or vice versa. The cross-chain mechanism of ccLending adopts decentralized multi-point witnesses, and reaches a consensus through multi-signature on the destination chain, which ensures the security and accuracy of cross-chain information transmission.

ccLending adopts an order book model and a fixed interest rate customized by the lender, and the borrowing period is 1 month. The lender places an order in the loan contract on the destination chain, specifying the loanable amount and monthly interest rate. Before borrowing money, the borrower must first deposit a certain amount of mortgage tokens in the mortgage contract on the source chain, then find an order with a suitable interest rate in the order list on the destination chain, and submit the destination chain ID, order number and the amount to be borrowed to the mortgage contract. The mortgage contract calculates the amount of tokens that need to be mortgaged based on the token exchange rate provided by the oracle machine and the LTV in the contract configuration, freezes them, and issues a freeze event at the same time. After multiple certified witnesses listen to the collateral freeze event, they send a loan confirmation instruction to the loan contract on the destination chain. After the number of confirmations reaches the threshold, the loan contract implements lending and sends tokens to the borrower's wallet address.

The borrower needs to repay the loan and pay interest on the due date, and can repay early but the interest remains the same. After the loan contract receives the repayment, 10% of the interest will be drawn as the income of this protocol. If the lender currently has an active loan order, the repayment amount will be directly entered into the loan order to continue lending. Then a repayment event is issued. After the witnesses monitor the repayment event, they send a repayment confirmation instruction to the mortgage contract. When the number of confirmations reaches the threshold, the mortgage contract unfreezes the corresponding mortgage token.

If the borrower fails to repay the loan due, the loan contract will leave a deadline of 7 days, and a penalty interest of one thousandth will be included every day. If the loan has not been repaid after the deadline, the lender can perform liquidation. The loan contract emits a liquidation event after receiving the liquidation request. The witnesses monitor the liquidation event and send a liquidation confirmation instruction to the mortgage contract. When the number of confirmations reaches the threshold, The mortgage contract unfreezes the frozen mortgage tokens and charges a penalty of 1%, and then changes the owner of the mortgage tokens from borrower to lender.

The borrower has no liquidation risk during the borrowing period. Unlike the loan pool model, the order book model uses a fixed interest rate and stipulates the repayment period. The exchange rate between tokens is determined by the price oracle machine at the time of borrowing, and no matter how the exchange rate changes during the borrowing cycle, liquidation will not be triggered. Only in the case of non-repayment beyond the deadline, the frozen mortgaged tokens of the borrower will be liquidated by the lender.

The ccLending contract maintains a witness list. Except that the initialization of the witness list is specified by the owner of the contract, any subsequent modification to the witness list will adopt a multi-signature method and be jointly decided by all current witnesses. When cross-chain information is transmitted, witnesses are responsible for submitting cross-chain instructions. If a witness cannot continuously and effectively perform cross-chain responsibilities, or submits wrong cross-chain instructions, he will be kicked out of the witness list. Multi-point witnesses and multi-signatures effectively avoid damage to the protocol caused by single-point failure or single-point cheating, ensuring the security and reliability of the protocol.

The price oracle machine adopts the design of off-chain data aggregation and on-chain median. Multiple witnesses submit prices to the on-chain contract, and the on-chain contract takes the median of these prices as the published price. Using the median instead of the average makes it more difficult to manipulate oracle prices, requiring more than half of the witnesses to collectively commit evil to be effective.

The goal of ccLending is to become a truly decentralized cross-chain mortgage lending protocol. The next version will provide more flexible customized lending, and lenders can customize the loan term, mortgage token types, and repayment methods. On the basis of the order book model, the cross-chain loan pool model will also be explored to integrate the data on each chain. For users, all operations are as smooth as on the same chain.
